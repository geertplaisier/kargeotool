
<FLAMINGO xmlns:fmc="fmc" xmlns:tpc="tpc" id="flamingo" lang="nl" languages="en,nl" tooltipdelay="300" commtojava="true" preloadtitle="Prototypemap" useexternalinterface="true">
    <style id=".tooltip" font-family="arial, sans-serif" font-size="11" color="#880000" display="block"/>

    <!-- dev:  http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;
         prod: http://public-wms.kaartenbalie.nl/wms/transmodel_connexxion_edit?
    -->
    
    <fmc:Container borderwidth="0" bordercolor="#606060" left="0" top="33" bottom="bottom -1" right="right -170">
        <fmc:MonitorLayer id="monitorl" left="37%" top="50%" width="50%" listento="map">
            <string id="waiting" en="Making... [layer] [percentage]%..." nl="Kaart aan het maken..."/>
            <string id="loading" en="Making... [layer] [percentage]%..." nl="Kaart aan het laden. [percentage]%"/>
        </fmc:MonitorLayer>

        <fmc:BorderNavigation listento="map" top="0%" width="100%" height="100%" skin="f1"/>
        <fmc:EditMap id="drawMap" listento="gis,map" left="0" top="0%" height="100%" width="100%" bottom="bottom"/>
        <fmc:GIS id="gis" geometryeditable="yes">
            <fmc:Layer id="draw_walapparatuur" name="draw_walapparatuur" title="Teken KAR punt" visible="true" geometrytypes="Point,PointAtDistance" wfsurl="wfs::http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;" version="1.0.0" srsname="EPSG:28992" featuretypename="walapparatuur" loadfeaturesonstart="false">
                <fmc:Style fillcolor="0x0000FF" fillopacity="30" strokecolor="0x0000FF" strokeopacity="50" strokeWidth="1"/>
            </fmc:Layer>
            <fmc:Layer id="draw_signaalgroepen" name="draw_signaalgroepen" title="Teken KAR punt" visible="true" geometrytypes="Point,PointAtDistance" wfsurl="wfs::http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;" version="1.0.0" srsname="EPSG:28992" featuretypename="signaalgroepen" loadfeaturesonstart="false">
                <fmc:Style fillcolor="0x0000FF" fillopacity="30" strokecolor="0x0000FF" strokeopacity="50" strokeWidth="1"/>
            </fmc:Layer>
            <fmc:Layer id="draw_triggerpunten" name="draw_triggerpunten" title="Teken KAR punt" visible="true" geometrytypes="Point,PointAtDistance" wfsurl="wfs::http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;" version="1.0.0" srsname="EPSG:28992" featuretypename="triggerpunten" loadfeaturesonstart="false">
                <fmc:Style fillcolor="0x0000FF" fillopacity="30" strokecolor="0x0000FF" strokeopacity="50" strokeWidth="1"/>
            </fmc:Layer>
        </fmc:GIS>
        <fmc:Map extenthistory="10" id="map" left="0" top="0%" height="100%" width="100%" bottom="bottom" visible="true" fullextent="12000,304000,280000,620000" extent="12000,304000,280000,620000" maptipdelay="500">
            <fmc:LayerOGWMS 
                id="kar_layer"
                url="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;Service=WMS"
                srs="EPSG:28992"
                layers="buslijnen,bushaltes,triggerpunten,walapparatuur,signaalgroepen"
                showerrors="true"
                query_layers="triggerpunten,walapparatuur,signaalgroepen,bushaltes"
                MAPTIP_LAYERS="signaalgroepen,triggerpunten"
                
            >
                <layer id="signaalgroepen" maptip="Signaalgroep: [kar_signal_group] Richting: [richting]"/>
                <layer id="triggerpunten" maptip="Triggerpunt: [kar_signal_group] Afstand tot stopstreep: [kar_distance_till_stop_line]"/>
            </fmc:LayerOGWMS>
            <fmc:LayerIdentifyIcon id="identifyicon"/>
            <fmc:LayerOGWMS id="osm" minscale="50" url="http://osm.kaartenbalie.nl/wms/mapserver-scale?Service=WMS" srs="EPSG:28992" layers="#ALL#" showerrors="true"/>
            <fmc:LayerOGWMS id="luchtfoto" maxscale="50" url="http://public-wms.kaartenbalie.nl/wms/aerogrid?Service=WMS" srs="EPSG:28992" layers="#ALL#" showerrors="true"/>
        </fmc:Map>
        <fmc:Maptip id="tral" listento="map"/>
    </fmc:Container>

    <fmc:Container left="right -170" height="100%" right="right" top="0" backgroundcolor="#F5F5F5">
        <fmc:Map id="map_overview" height="130" width="168" clear="true" extent="14562,307839,277026,613073" fullextent="14562,307839,277026,613073">
            <fmc:LayerOverview listento="map" color="#33CC33"/>
            <fmc:LayerImage imageurl="assets/provincies.swf" extent="14562,307839,277026,613073" listento="map"/>
        </fmc:Map>
        <fmc:Legend id="legend" top="130" left="1" height="460" width="168" listento="map">
            <group label="VRI-informatie">
                <item label="Walapparatuur" canhide="true" listento="kar_layer.walapparatuur"/>
                <symbol dx="0" dy="0" symbolurl="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;version=1.1.1&amp;service=WMS&amp;request=GetLegendGraphic&amp;layer=walapparatuur&amp;format=image/png"/>
                <item label="Signaalgroepen" canhide="true" listento="kar_layer.signaalgroepen"/>
                <symbol dx="0" dy="0" symbolurl="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;version=1.1.1&amp;service=WMS&amp;request=GetLegendGraphic&amp;layer=signaalgroepen_legend&amp;format=image/png&amp;"/>
                <item label="Triggerpunten" canhide="true" listento="kar_layer.triggerpunten"/>
                <symbol dx="0" dy="0" symbolurl="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;version=1.1.1&amp;service=WMS&amp;request=GetLegendGraphic&amp;layer=triggerpunten&amp;format=image/png"/>
            </group>
            <group label="OV-informatie">
                <item label="Buslijnen" canhide="true" listento="kar_layer.buslijnen"/>
                <symbol dx="0" dy="0" symbolurl="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;version=1.1.1&amp;service=WMS&amp;request=GetLegendGraphic&amp;layer=buslijnen&amp;format=image/png"/>
                <item label="Bushaltes" canhide="true" listento="kar_layer.bushaltes"/>
                <symbol dx="0" dy="0" symbolurl="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;version=1.1.1&amp;service=WMS&amp;request=GetLegendGraphic&amp;layer=bushaltes_symbol&amp;format=image/png"/>
            </group>
            <group label="Achtergrond" open="true">
                <item label="Openstreetmap" canhide="true" listento="osm"/>
                <item label="Luchtfoto" canhide="true" listento="luchtfoto"/>
            </group>
        </fmc:Legend>
        <fmc:LocationFinder id="locationfinder" top="591" width="100%" left="0%" height="250" listento="map" controls="true">
            <style id=".nohit" font-family="tahoma, sans-serif" font-size="11" color="#000000" font-weight="bold" display="block"/>
            <style id=".busy" font-family="tahoma, sans-serif" font-size="11" color="#444444" font-style="italic" display="block"/>
            <style id=".feature" font-family="tahoma, sans-serif" font-size="11" color="#0066cc" display="block"/>
            <style id=".error" font-family="tahoma, sans-serif" font-size="11" color="#ff0000" font-weight="bold" display="block"/>
            <style id=".hint" font-family="tahoma, sans-serif" font-size="11" color="#000000" display="block"/>
            <string id="label" nl="Zoek..." en="Search..." />
            <string id="busy" nl="Zoeken..." en="Searching..." />
            <string id="next" nl="Volgende" en="Next" />
            <string id="prev" nl="Vorige" en="Previous" />
            <string id="nohit" en="No results" nl="Niks gevonden"/>
            <LOCATIONS id="Gemeenten" server="http://public-wms.kaartenbalie.nl/wms/nederland" layerid="gemeenten_2006" searchfield="gm_naam" outputfields="gm_naam" srs="EPSG:28992" type="WFS" serverVersion="1.0.0" enlargeExtent="10000">
                <string id="output" nl="[gm_naam]" en="[gm_naam]" />
                <string id="label" nl="Zoek een gemeente" en="Search for municipality" />
            </LOCATIONS>
            <LOCATIONS
                id="buslijnen"
                server="http://b3p-demoserver/cgi-bin/mapserv.exe?map=e:/maps/transmodel_connexxion_edit.map&amp;"
                layerid="buslijnen"
                searchfield="publicnumber"
                fieldtype="n"
                outputfields="publicnumber,name,direction"
                srs="EPSG:28992"
                type="WFS"
                serverVersion="1.0.0"
                enlargeExtent="10000"
            >
                <string id="output" nl="[publicnumber] ([direction]): [name]" en="[publicnumber] ([direction]): [name]" />
                <string id="label" nl="Zoek een buslijn" en="Search for busline" />
            </LOCATIONS>
        </fmc:LocationFinder>
        <fmc:Coordinates listento="map" left="0" top="98%" decimals="2">
            <style id=".xy" font-family="arial, sans-serif" font-size="11"/>
            <string id="xy" nl="X: [x]     Y: [y]"/>
        </fmc:Coordinates>
    </fmc:Container>

    <fmc:Window id="location" title="Locatie" left="right -315" top="bottom -180" width="145" height="180" canresize="false" visible="false">
        <fmc:Container width="100%" height="100%" backgroundcolor="#ffffff">
            <fmc:EditInfoPanel id="editInfoPanel" height="180" listento="drawMap"/>
        </fmc:Container>
    </fmc:Window>

    <fmc:Window id="bushalte_info" title="Bushalte info" visible="false" canclose="true" canresize="true" defocusalpha="10" width="50%" height="50%" left="25%" top="25%">
        <fmc:Container width="100%" height="100%" backgroundcolor="#FFFFFF">
            <fmc:IdentifyResults id="info" width="100%" height="100%" visible="true" listento="map" showonidentify="false">
                <style id=".field" font-family="verdana" font-size="11px" color="#000000" display="block" font-weight="bold"/>
                <style id=".value" font-family="verdana" font-size="11px" color="#000000" display="block" font-weight="normal"/>
                <style id=".maplayer" font-family="verdana" font-size="13px" color="#000000" display="block" font-weight="normal"/>
                <style id=".layer" font-family="verdana" font-size="12px" color="#000000" display="block" font-weight="normal"/>
                <string id="startidentify" en="Loading" nl="Info wordt opgehaald"/>
                <string id="identify" en="[progress]%" nl="[progress]%"/>
                <string id="finishidentify" en="Information" nl="Informatie"/>
                <string id="seperator" en=":" nl=":"/>
                <style id="a" font-family="arial" font-size="10px" color="#333399" display="block" font-weight="normal" text-decoration="underline"/>
            </fmc:IdentifyResults>
        </fmc:Container>
    </fmc:Window>

    <fmc:Container backgroundcolor="#F5F5F5" left="0" top="0" height="100%" width="100%">
        <fmc:ToolGroup tool="zoom" listento="map" width="100%" height="100" left="10" top="5" backgroundcolor="#F5F5F5">
            <fmc:ToolZoomin id="zoom" skin="f2"/>
            <fmc:ToolZoomout left="30" skin="f2"/>
            <fmc:ToolPan left="60" skin="f2"/>
            <fmc:ToolMeasure left="90" skin="f2"/>
            <fmc:ToolIdentify id="identifyTool" left="120" skin="f2"/>
            <fmc:ButtonFull left="150" listento="map"/>
            <fmc:ButtonPrev left="180" listento="map"/>
            <fmc:ButtonNext left="210" listento="map"/>
        </fmc:ToolGroup>
    </fmc:Container>

</FLAMINGO>