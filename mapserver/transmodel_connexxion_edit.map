MAP

NAME transmodel_connexxion
STATUS ON
EXTENT 12000 304000 280000 620000
UNITS METERS
IMAGECOLOR 255 255 255
FONTSET "fonts/fonts.list"

WEB
  METADATA
    "wms_title"				"Transmodel Connexxion"
    "wfs_title"				"Transmodel Connexxion"
    "wms_onlineresource"		"http://public-wms.kaartenbalie.nl/wms/transmodel_connexxion_edit"
    "wfs_onlineresource"		"http://public-wms.kaartenbalie.nl/wms/transmodel_connexxion_edit"
    "wms_srs"				"EPSG:28992"
    "wfs_srs"				"EPSG:28992"
    "wfs_extent"			"12000 304000 280000 620000"
    "ows_schemas_location"		"http://schemas.opengeospatial.net"
  END
END

PROJECTION
  "init=epsg:28992" 
END

OUTPUTFORMAT
	NAME png
	DRIVER "GD/PNG"
	MIMETYPE "image/png"
	IMAGEMODE RGBA
	EXTENSION "png"
	TRANSPARENT ON
END

LEGEND
	STATUS ON
	POSITION LR
	TRANSPARENT TRUE
END

SYMBOL
	NAME 'circle'
	TYPE ELLIPSE
	FILLED TRUE
	POINTS 1 1 
	END
END
SYMBOL
  NAME "pijl"
  TYPE TRUETYPE
  FONT "arial"
  CHARACTER ">"
  ANTIALIAS TRUE
  GAP -50
END

LAYER
  NAME puntjes
  METADATA
    "wms_title" "puntjes"
    "gml_include_items" "all"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla  
  status off
  connectiontype postgis
  connection "host=localhost dbname=transmodel password=transmodel port=5432 user=transmodel"
  data "point_geom from (select oid,point_geom from point where name is null and description is null) as bla using srid=28992"
  PROJECTION
    "init=epsg:28992"
  END
  CLASS 
    NAME ""
    STYLE      
	COLOR 255 255 102
	SYMBOL "circle"
	SIZE 2
    END
  END		
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME buslijnen
  METADATA
    "wms_title" "buslijnen"
    "gml_include_items" "all"
  END
  TYPE LINE
  DUMP true
  TEMPLATE bla  
  status off
  connectiontype postgis
  connection "host=localhost dbname=transmodel password=japikola port=5432 user=postgres"
  data "the_geom from (select j.oid,l.name,l.publicnumber,j.lineplanningnumber,j.code,j.destinationcode,j.direction,j.the_geom from jopa j left join line l on (j.lineplanningnumber = l.planningnumber)) as bla using srid=28992"
  PROJECTION
    "init=epsg:28992"
  END
  LABELITEM "publicnumber"
  CLASS 
    NAME ""
    STYLE      
	COLOR 255 0 0
	SYMBOL "circle"
	SIZE 3
    END
    STYLE
    	COLOR 255 0 0
       SYMBOl "pijl"
       SIZE 20
    END
    LABEL
        TYPE truetype
        FONT "arial"
        antialias true
	 MINFEATURESIZE 1000
        SIZE 8
	 ANGLE auto
        COLOR 255 255 255
        outlinecolor 255 0 0
        buffer 2
	 position auto
    END
  END		
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME bushaltes
  METADATA
    "wms_title" "bushaltes"
    "gml_include_items" "all"
    "gml_exclude_items" "oid"        
    "wfs_title" "bushaltes"
    "wfs_srs"  "EPSG:28992"
    "gml_featureid" "oid"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla  
  TOLERANCE 6
  status off
  connectiontype postgis
  connection "host=localhost dbname=transmodel password=transmodel port=5432 user=transmodel"
  data "point_geom from (select oid,point_geom,validfrom,dataowner,code,name from point where name is not null) as bla using srid=28992"
  PROJECTION
    "init=epsg:28992"
  END
  LABELITEM "name"  
  CLASS 
    NAME ""
    STYLE      
      SYMBOL "bushalte.gif"      
    END 
  END
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME bushaltes_labels
  METADATA
    "wms_title" "bushaltes_labels"
    "gml_include_items" "all"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla  
  status off
  connectiontype postgis
  connection "host=localhost dbname=transmodel password=transmodel port=5432 user=transmodel"
  data "point_geom from (select oid,point_geom,name from point where name is not null) as bla using srid=28992"
  PROJECTION
    "init=epsg:28992"
  END
  MAXSCALE 13000
  LABELITEM "name"    
  CLASS 
    STYLE
    end
    LABEL
        TYPE truetype
        FONT "arial"
        antialias true
        SIZE 8
        COLOR 2 2 2
        outlinecolor 255 255 255
        buffer 2
	fORCE true
	position auto
    END  
  END
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME triggerpunten
  METADATA
    "wms_title" "triggerpunten"
    "gml_include_items" "all"     
    "wfs_title" "triggerpunten"
    "wfs_srs"  "EPSG:28992"
    "gml_featureid" "id"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla
  TOLERANCE 10  
  status off
  connectiontype postgis
  connection "host=localhost dbname=kar_gis password=YYPlDvZMkrOyYFB94rZ port=5432 user=kar_gis"
  data "geom from (select karpunt.id,command_type,geom from activation join karpunt on activation.point = karpunt.id) as bla using srid=28992 using unique id"
  PROJECTION
    "init=epsg:28992"
  END
  CLASSITEM "command_type"
  CLASS 
    NAME "Onbekend"
    EXPRESSION ""
    STYLE      
      SYMBOL "radio_zwart.gif"      
    END 
  END  
  CLASS 
    NAME "Inmelding"
    EXPRESSION "1"
    STYLE      
      SYMBOL "radio_groen.gif"      
    END 
  END
  CLASS 
    NAME "Uitmeldpunt"
    EXPRESSION "2"
    STYLE      
      SYMBOL "radio_rood.gif"      
    END 
  END
  CLASS 
    NAME "Aanmeldpunt"
    EXPRESSION "3"
    STYLE      
      SYMBOL "radio_blauw.gif"      
    END 
  END
  
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME walapparatuur
  METADATA
    "wms_title" "walapparatuur"
    "gml_include_items" "all"     
    "wfs_title" "walapparatuur"
    "wfs_srs"  "EPSG:28992"
    "gml_featureid" "id"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla
  TOLERANCE 10  
  status off
  connectiontype postgis
  connection "host=localhost dbname=kar_gis password=YYPlDvZMkrOyYFB94rZ port=5432 user=kar_gis"
  data "geom from (select karpunt.id,roadside_equipment.type,unit_number,geom from roadside_equipment join karpunt on roadside_equipment.point = karpunt.id) as bla using srid=28992 using unique id"
  PROJECTION
    "init=epsg:28992"
  END
  CLASSITEM "type"
  CLASS 
    NAME "VRI"
    EXPRESSION "CROSS"
    STYLE      
      SYMBOL "vri.gif"      
    END 
  END  
  CLASS 
    NAME "Selectieve afsluiting"
    EXPRESSION "CLOSE"
    STYLE      
      SYMBOL "close.gif"      
    END 
  END
  CLASS 
    NAME "Halteprocessor"
    EXPRESSION "PIU"
    STYLE      
      SYMBOL "piu.gif"      
    END 
  END
  
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

LAYER
  NAME signaalgroepen
  METADATA
    "wms_title" "signaalgroepen"
    "gml_include_items" "all"     
    "wfs_title" "signaalgroepen"
    "wfs_srs"  "EPSG:28992"
    "gml_featureid" "id"
  END
  TYPE POINT
  DUMP true
  TEMPLATE bla
  TOLERANCE 10  
  status off
  connectiontype postgis
  connection "host=localhost dbname=kar_gis password=YYPlDvZMkrOyYFB94rZ port=5432 user=kar_gis"
  data "geom from (select karpunt.id,kar_signal_group,geom from activation_group join karpunt on activation_group.point = karpunt.id) as bla using srid=28992 using unique id"
  PROJECTION
    "init=epsg:28992"
  END
  CLASS 
    NAME "Signaalgroep"
    STYLE      
      SYMBOL "ag.gif"      
    END 
  END  
  
  PROCESSING "CLOSE_CONNECTION=DEFER"
END

END